<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–±–∞–≤–∏—Ç—å –º–æ–π —Ç–æ–∫–µ–Ω</title>
    <style>
        body { font-family: sans-serif; display: grid; place-items: center; height: 100vh; margin: 0; background-color: #222; color: white;}
        button { font-size: 1.2rem; padding: 15px 25px; border-radius: 10px; border: none; cursor: pointer; background-color: #007bff; color: white; }
    </style>
</head>
<body>

    <button id="addTokenBtn">üöÄ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ MetaMask</button>

    <script>
        // --- –®–ê–ì 1: –í–°–¢–ê–í–¨–¢–ï –í–ê–®–ò –î–ê–ù–ù–´–ï –ó–î–ï–°–¨ ---
        const tokenAddress = '0xbb24e190C384D4845818a54E1Cf3971E6782ba09';      // –ê–î–†–ï–° –í–ê–®–ï–ì–û –°–ú–ê–†–¢-–ö–û–ù–¢–†–ê–ö–¢–ê
        const tokenSymbol = 'USDTI';       // –°–ò–ú–í–û–õ –í–ê–®–ï–ì–û –¢–û–ö–ï–ù–ê (–Ω–∞–ø—Ä–∏–º–µ—Ä, SFL)
        const tokenDecimals = 6;           // –ö–û–õ–ò–ß–ï–°–¢–í–û –î–ï–°–Ø–¢–ò–ß–ù–´–• –ó–ù–ê–ö–û–í
        const tokenImage = 'https://raw.githubusercontent.com/theycallmeibra/usdti/7864c8383fa9189ab497d40c45b98e8f3cde836c/usdti%20svg%20.svg';   // –ü–†–Ø–ú–ê–Ø –°–°–´–õ–ö–ê –ù–ê –í–ê–® –õ–û–ì–û–¢–ò–ü (.png –∏–ª–∏ .svg)
        // -----------------------------------------

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ
        document.getElementById('addTokenBtn').textContent = `üöÄ –î–æ–±–∞–≤–∏—Ç—å ${tokenSymbol} –≤ MetaMask UPD`;

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É
        document.getElementById('addTokenBtn').addEventListener('click', async () => {
            if (typeof window.ethereum === 'undefined') {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MetaMask!');
                return;
            }

            try {
                // –ó–∞–ø—Ä–æ—Å –∫ MetaMask –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
                const wasAdded = await window.ethereum.request({
                    method: 'wallet_watchAsset',
                    params: {
                        type: 'BEP20', // –°—Ç–∞–Ω–¥–∞—Ä—Ç —Ç–æ–∫–µ–Ω–∞
                        options: {
                            address: tokenAddress,
                            symbol: tokenSymbol,
                            decimals: tokenDecimals,
                            image: tokenImage,
                        },
                    },
                });

                if (wasAdded) {
                    alert('–¢–æ–∫–µ–Ω —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
                } else {
                    alert('–í—ã –æ—Ç–∫–ª–æ–Ω–∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞.');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞.');
            }
        });
    </script>

</body>
</html>
