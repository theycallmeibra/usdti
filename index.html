<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–±–∞–≤–∏—Ç—å –º–æ–π —Ç–æ–∫–µ–Ω</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; display: grid; place-items: center; text-align: center; height: 100vh; margin: 0; background-color: #1a1a1a; color: white;}
        .container { padding: 20px; }
        button { font-size: 1.2rem; font-weight: bold; padding: 15px 25px; border-radius: 12px; border: none; cursor: pointer; background-color: #0d6efd; color: white; transition: background-color 0.2s; }
        button:hover { background-color: #0b5ed7; }
    </style>
</head>
<body>

    <div class="container">
        <h1>–ü—Ä–æ–µ–∫—Ç Flash USDT UPD1</h1>
        <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω USDTI –≤ –≤–∞—à –∫–æ—à–µ–ª–µ–∫ MetaMask.</p>
        <button id="addTokenBtn">üöÄ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ MetaMask</button>
    </div>

    <script>
        // --- –®–ê–ì 1: –í–ê–®–ò –î–ê–ù–ù–´–ï ---
        // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–Ω—ã
        const tokenAddress = '0xbb24e190C384D4845818a54E1Cf3971E6782ba09';
        const tokenSymbol = 'USDTI';
        const tokenDecimals = 6; // –í –≤–∞—à–µ–º –∫–æ–¥–µ –±—ã–ª–æ 16, –Ω–æ –¥–ª—è USDT-–ø–æ–¥–æ–±–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –æ–±—ã—á–Ω–æ 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –∫–æ–Ω—Ç—Ä–∞–∫—Ç.
        // –í–ê–ñ–ù–û: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤! –Ø –∏—Å–ø—Ä–∞–≤–∏–ª —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞.
        const tokenImage = 'https://raw.githubusercontent.com/theycallmeibra/usdti/b7447294c08613edfb0dc3e72dfddbfa05b309eb/svg.svg'; 
        // -----------------------------------------

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ
        document.getElementById('addTokenBtn').textContent = `üöÄ –î–æ–±–∞–≤–∏—Ç—å ${tokenSymbol} –≤ MetaMask`;

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É
        document.getElementById('addTokenBtn').addEventListener('click', () => {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ MetaMask (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –ü–ö –∏–ª–∏ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)
            if (typeof window.ethereum === 'undefined') {
                // MetaMask –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –º—ã –≤ –æ–±—ã—á–Ω–æ–º –º–æ–±–∏–ª—å–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–±–∏–ª—å–Ω–æ–µ –ª–∏ —ç—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
                const isMobile = /Mobi|Android/i.test(navigator.userAgent);
                if (isMobile) {
                    // –§–æ—Ä–º–∏—Ä—É–µ–º –≥–ª—É–±–æ–∫—É—é —Å—Å—ã–ª–∫—É, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ MetaMask
                    const deepLink = `https://metamask.app.link/dapp/${window.location.host}${window.location.pathname}`;
                    window.location.href = deepLink;
                } else {
                    // –≠—Ç–æ –∫–æ–º–ø—å—é—Ç–µ—Ä –±–µ–∑ MetaMask
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ MetaMask –¥–ª—è –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞!');
                }
                return;
            }

            // –ï—Å–ª–∏ MetaMask –µ—Å—Ç—å, –≤—ã–ø–æ–ª–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
            addTokenAsset();
        });

        async function addTokenAsset() {
            try {
                const wasAdded = await window.ethereum.request({
                    method: 'wallet_watchAsset',
                    params: {
                        // 'BEP20' –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Ç–∏–ø–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 'ERC20'
                        // —Ç–∞–∫ –∫–∞–∫ BEP-20 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å –Ω–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º.
                        type: 'ERC20', 
                        options: {
                            address: tokenAddress,
                            symbol: tokenSymbol,
                            decimals: tokenDecimals,
                            image: tokenImage,
                        },
                    },
                });

                if (wasAdded) {
                    alert('–¢–æ–∫–µ–Ω —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
                } else {
                    alert('–í—ã –æ—Ç–∫–ª–æ–Ω–∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞.');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞.');
            }
        }
    </script>

</body>
</html>
